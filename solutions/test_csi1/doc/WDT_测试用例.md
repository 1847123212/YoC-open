

## WDT

### 概要

该文档主要描述WDT模块的CSI1.0自动化测试AT命令。 文档中所涉及的这些命令是用来测试WDT模块的接口工作是否正常、数据传输是否正确、接口返回值是否符合预期。



### 测试原理

测试时，应给被测试板发送WDT测试命令进行相应的测试；测试程序会按照按照测试命令的配置进行相应的测试， 若结果与预期一致，则相应的测试成功完成，否则测试失败。



### 测试流程

- 测试前应当准备好测试板（以下简称A板）
- 发送WDT测试命令进行测试 （测试命令功能请参照下文）



### AT命令列表 

以下是WDT模块对应的测试命令列表及其功能简要介绍。

| AT命令列表                | 功能                                                         |
| ------------------------- | ------------------------------------------------------------ |
| AT+WDT_INTERFACE          | WDT模块接口测试。该命令将会测试WDT模块下所有的CSI 接口， 测试CSI接口时将会传入异常值、非法值，验证CSI接口返回值是否符合期望 |
| AT+WDT_RESET=idx,time_out | 测试WDT是否复位的情况。先测试喂狗情况下不会复位；再测试停止情况下不会复位；再测试不喂狗启动的情况下会复位 |



### 参数列表

以下是PWM模块对应的AT测试命令共用参数的简要介绍。

| 参数名字 | 释义                                       | 取值范围         |
| -------- | ------------------------------------------ | ---------------- |
| idx      | 表示使用那一组外设，0表示wdt0              | 0x0 - 0xFFFFFFFF |
| timeout  | 表示看门狗复位的超时时间，100表示100ms<br> | 0x0 - 0xFFFFFFFF |



### 命令详解

#### AT+WDT_INTERFACE

| 命令格式             | AT+WDT_INTERFACE                                             |
| -------------------- | ------------------------------------------------------------ |
| 命令功能             | WDT模块接口测试。该命令将会测试WDT模块下所有的CSI 接口， 测试CSI接口时将会传入异常值、非法值，验证CSI接口返回值是否符合期望 |
| 可搭配的辅助测试命令 | 无                                                           |
| 示例                 | 步骤1:发送测试接口指令<br>AT+WDT_INTERFACE<br>测试完成后， 板子对应串口会打印OK；否则测试失败 |
| 备注                 |                                                              |



#### AT+WDT_RESET

| 命令格式             | AT+WDT_RESET=idx,time_out                                    |
| -------------------- | ------------------------------------------------------------ |
| 命令功能             | 测试WDT是否复位的情况。先测试喂狗情况下不会复位；再测试停止情况下不会复位；再测试不喂狗启动的情况下会复位 |
| 可搭配的辅助测试命令 | 无                                                           |
| 示例                 | 步骤1:发送测试接口指令<br>AT+WDT_RESET=0,100<br>手动测试命令，需要看对应串口打印的内容判断是否复位 |
| 备注                 |                                                              |
