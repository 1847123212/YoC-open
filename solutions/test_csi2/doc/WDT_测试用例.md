## WDT

### 概要

该文档主要描述WDT模块的CSI2.0自动化测试AT命令。 文档中所涉及的这些命令是用来测试WDT模块的接口工作是否正常、数据传输是否正确、接口返回值是否符合预期。


### 测试原理

测试时，应给被测试板发送WDT测试命令进行相应的测试；测试程序会按照按照测试命令的配置进行相应的测试， 若结果与预期一致，则相应的测试成功完成，否则测试失败。


### 测试流程

- 测试前应当准备好测试板（以下简称A板）
- 发送WDT测试命令进行测试 （测试命令功能请参照下文）


### AT命令列表 

以下是WDT模块对应的测试命令列表及其功能简要介绍。

| AT命令列表            | 功能                                                         |
| --------------------- | ------------------------------------------------------------ |
| AT+WDT_QUERY_FEED     | 测试WDT采用查询的方式在超时时间内喂狗,程序不会复位           |
| AT+WDT_INTERRUPT_FEED | 测试WDT采用中断的方式在超时时间内喂狗,程序不会复位           |
| AT+WDT_TIMEOUT_RESET  | 测试WDT的超时复位功能，程序会复位                            |
| AT+WDT_START_STOP     | 1.测试WDT模块在中断模式下和查询模式下,重复启动wdt<br/>2.测试WDT模块在中断模式下和查询模式下,重复启动再停止wdt<br/>|
| AT+WDT_GET_INFO       | 测试WDT的运行状态，查看启停状态和设置的是否相符              |


### AT+WDT_QUERY_FEED

| 命令格式 | AT+WDT_QUERY_FEED=idx,timeout_ms,wait_timeout_ms |
|------------------------------------------|--------------------------------------------------------------------------------------------------|
| 命令功能 | 测试WDT采用查询的方式在超时时间内喂狗,程序不会复位 |
| 命令参数 | idx:表示使用那一个WDT。如WDT0值为0；WDT1值为1<br>timeout_ms:表示设置的wdt的超时复位时间(时间单位:毫秒);wait_timeout_ms:表示延迟时间(时间单位:毫秒) |
| 示例 | 发送命令AT+WDT_QUERY_FEED=0,100,200到A板，测试完成后，程序最后会复位一次；否则测试失败 |


### AT+WDT_INTERRUPT_FEED

| 命令格式 | AT+WDT_INTERRUPT_FEED=idx,timeout_ms,wait_timeout_ms                        |
| -------- | ------------------------------------------------------------ |
| 命令功能 | 测试WDT采用中断的方式在超时时间内喂狗,程序不会复位           |
| 命令参数 | idx:表示使用那一个WDT。如WDT0值为0；WDT1值为1<br/>timeout_ms:表示设置的wdt的超时复位时间(时间单位:毫秒);wait_timeout_ms:表示延迟时间(时间单位:毫秒) |
| 示例     | 发送命令AT+WDT_INTERRUPT_FEED=0,100,200到A板，测试完成后，程序最后会复位一次；否则测试失败 |


### AT+WDT_TIMEOUT_RESET

| 命令格式 | AT+WDT_TIMEOUT_RESET=idx,timeout_ms，wait_timeout_ms                        |
| -------- | ------------------------------------------------------------ |
| 命令功能 | 测试WDT的超时复位功能，程序会复位                            |
| 命令参数 | idx:表示使用那一个WDT。如WDT0值为0；WDT1值为1<br/>timeout_ms:表示设置的wdt的超时复位时间(时间单位:毫秒);wait_timeout_ms:表示延迟时间(时间单位:毫秒) |
| 示例     | 发送命令AT+WDT_TIMEOUT_RESET=0,200,300到A板，测试完成后， A板对应串口会复位；否则测试失败 |


### AT+WDT_START_STOP

| 命令格式 | AT+WDT_START_STOP=idx                                        |
| -------- | ------------------------------------------------------------ |
| 命令功能 | 1.测试WDT模块在中断模式下和查询模式下,重复启动wdt<br/>2.测试WDT模块在中断模式下和查询模式下,重复启动再停止wdt<br/>3.测试WDT模块在中断模式下和查询模式下,重复停止wdt |
| 命令参数 | idx:表示使用那一个WDT。如WDT0值为0；WDT1值为1                |
| 示例     | 发送命令AT+WDT_START_STOP=0到A板，测试完成后， A板对应串口会打印OK；否则测试失败 |


### AT+WDT_GET_INFO

| 命令格式 | AT+WDT_GET_INFO=idx                                          |
| -------- | ------------------------------------------------------------ |
| 命令功能 | 测试WDT的运行状态，查看启停状态和设置的是否相符              |
| 命令参数 | idx:表示使用那一个WDT。如WDT0值为0；WDT1值为1                |
| 示例     | 发送命令AT+WDT_GET_INFO=0到A板，测试完成后， A板对应串口会打印OK；否则测试失败 |